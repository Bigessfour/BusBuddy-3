2025-08-08 07:17:16.131 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 07:17:16.141 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 07:17:16.156 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 07:17:16.161 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 07:17:16.162 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 07:17:16.162 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 07:17:16.164 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 07:17:16.363 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 07:17:16.379 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 07:17:16.393 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 07:17:18.870 -06:00 [ERR] üöå Database operation Database EnsureCreated failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:eb1c50c8-a199-4456-9659-ae8cd10ad0cb
Error Number:40615,State:1,Class:14
2025-08-08 07:17:18.888 -06:00 [WRN] üöå ‚ö†Ô∏è Failed to seed database with JSON data: Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.WPF.App.<>c.<<ConfigureServices>b__10_0>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 281
ClientConnectionId:eb1c50c8-a199-4456-9659-ae8cd10ad0cb
Error Number:40615,State:1,Class:14
2025-08-08 07:17:19.536 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:8bb36e57-607f-4893-9c45-2b5948df757f
Error Number:40615,State:1,Class:14
2025-08-08 07:17:19.540 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:8bb36e57-607f-4893-9c45-2b5948df757f
Error Number:40615,State:1,Class:14
2025-08-08 07:17:19.545 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
2025-08-08 07:17:19.550 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 07:17:19.550 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 07:17:19.552 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 07:17:19.555 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 07:17:19.647 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 07:17:19.647 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 07:17:22.369 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 07:17:22.370 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 07:17:22.370 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 07:17:22.370 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 07:17:22.419 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 07:17:22.804 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 07:17:22.804 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 07:17:22.805 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 07:17:23.220 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 07:17:23.478 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 07:17:23.478 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 07:17:23.478 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 07:17:23.478 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 07:17:23.478 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 07:17:23.479 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 07:17:23.479 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 07:17:23.479 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 07:17:23.479 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 07:17:23.479 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 07:17:23.479 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 07:17:24.809 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 07:17:27.303 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 07:17:33.999 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 07:17:34.017 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 07:17:34.034 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 07:17:34.038 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 07:17:34.038 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 07:17:34.038 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 07:17:34.038 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 07:17:34.041 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 07:17:34.063 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 07:17:34.092 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 07:17:36.321 -06:00 [ERR] üöå Database operation Database EnsureCreated failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:09a2c023-0427-4a36-be5d-c0a2e30985c3
Error Number:40615,State:1,Class:14
2025-08-08 07:17:36.378 -06:00 [WRN] üöå ‚ö†Ô∏è Failed to seed database with JSON data: Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.WPF.App.<>c.<<ConfigureServices>b__10_0>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 281
ClientConnectionId:09a2c023-0427-4a36-be5d-c0a2e30985c3
Error Number:40615,State:1,Class:14
2025-08-08 07:17:36.634 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:aae67051-1954-4dd4-9f05-a90df364d743
Error Number:40615,State:1,Class:14
2025-08-08 07:17:36.642 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:aae67051-1954-4dd4-9f05-a90df364d743
Error Number:40615,State:1,Class:14
2025-08-08 07:17:36.651 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
2025-08-08 07:17:36.653 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 07:17:36.653 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 07:17:36.655 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 07:17:36.658 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 07:17:36.703 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 07:17:36.703 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 07:17:37.588 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 07:17:37.588 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 07:17:37.589 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 07:17:37.589 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 07:17:37.650 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 07:17:37.651 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 07:17:37.651 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 07:17:37.652 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 07:17:37.653 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 07:17:37.972 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 07:17:37.972 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 07:17:37.972 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 07:17:37.973 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 07:17:37.973 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 07:17:37.973 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 07:17:37.973 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 07:17:37.973 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 07:17:37.974 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 07:17:37.974 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 07:17:37.974 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 07:17:39.329 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 07:37:09.183 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 07:37:09.209 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 07:37:09.234 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 07:37:09.242 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 07:37:09.243 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 07:37:09.243 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 07:37:09.243 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 07:37:09.249 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 07:37:09.294 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 07:37:09.332 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 07:37:12.952 -06:00 [ERR] üöå Database operation Database EnsureCreated failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:8e49bfdd-3ff2-4371-8cab-22ad4322a41f
Error Number:40615,State:1,Class:14
2025-08-08 07:37:13.010 -06:00 [WRN] üöå ‚ö†Ô∏è Failed to seed database with JSON data: Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.WPF.App.<>c.<<ConfigureServices>b__10_0>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 281
ClientConnectionId:8e49bfdd-3ff2-4371-8cab-22ad4322a41f
Error Number:40615,State:1,Class:14
2025-08-08 07:37:13.264 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:e86f378d-a620-406b-ad64-8fd081a54fc7
Error Number:40615,State:1,Class:14
2025-08-08 07:37:13.272 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:e86f378d-a620-406b-ad64-8fd081a54fc7
Error Number:40615,State:1,Class:14
2025-08-08 07:37:13.282 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
2025-08-08 07:37:13.285 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 07:37:13.285 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 07:37:13.288 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 07:37:13.292 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 07:37:13.356 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 07:37:13.356 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 07:37:14.221 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 07:37:14.221 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 07:37:14.221 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 07:37:14.222 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 07:37:14.254 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 07:37:14.254 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 07:37:14.254 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 07:37:14.255 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 07:37:14.256 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 07:37:14.469 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 07:37:14.469 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 07:37:14.470 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 07:37:14.470 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 07:37:14.470 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 07:37:14.470 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 07:37:14.471 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 07:37:14.471 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 07:37:14.471 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 07:37:14.471 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 07:37:14.471 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 07:37:15.507 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 07:37:21.271 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 08:30:34.335 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 08:30:34.357 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 08:30:34.503 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 08:30:34.509 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 08:30:34.510 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 08:30:34.510 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 08:30:34.510 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 08:30:34.721 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 08:30:34.790 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 08:30:34.817 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 08:30:37.622 -06:00 [ERR] üöå Database operation Database EnsureCreated failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:04244d0e-4d07-44c2-84ac-c0d33213bfce
Error Number:40615,State:1,Class:14
2025-08-08 08:30:37.666 -06:00 [WRN] üöå ‚ö†Ô∏è Failed to seed database with JSON data: Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.WPF.App.<>c.<<ConfigureServices>b__10_0>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 281
ClientConnectionId:04244d0e-4d07-44c2-84ac-c0d33213bfce
Error Number:40615,State:1,Class:14
2025-08-08 08:30:38.227 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:b2bb8491-a1bc-4a6f-a718-ee04f74018c3
Error Number:40615,State:1,Class:14
2025-08-08 08:30:38.233 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:b2bb8491-a1bc-4a6f-a718-ee04f74018c3
Error Number:40615,State:1,Class:14
2025-08-08 08:30:38.237 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
2025-08-08 08:30:38.241 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 08:30:38.241 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 08:30:38.243 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 08:30:38.246 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 08:30:38.323 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 08:30:38.323 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 08:30:40.457 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 08:30:40.458 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 08:30:40.458 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 08:30:40.458 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 08:30:40.507 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 08:30:40.956 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 08:30:40.956 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 08:30:40.958 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 08:30:41.411 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 08:30:41.642 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 08:30:41.642 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 08:30:41.642 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 08:30:41.642 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 08:30:41.643 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 08:30:41.643 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 08:30:41.643 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 08:30:41.643 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 08:30:41.643 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 08:30:41.643 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 08:30:41.643 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 08:30:42.809 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 08:30:46.335 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 08:37:49.114 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 08:37:49.129 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 08:37:49.144 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 08:37:49.147 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 08:37:49.148 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 08:37:49.148 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 08:37:49.148 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 08:37:49.150 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 08:37:49.168 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 08:37:49.190 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 08:37:51.896 -06:00 [ERR] üöå Database operation Database EnsureCreated failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:494caedf-de24-4230-ad26-d3b24847b059
Error Number:40615,State:1,Class:14
2025-08-08 08:37:51.910 -06:00 [WRN] üöå ‚ö†Ô∏è Failed to seed database with JSON data: Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.WPF.App.<>c.<<ConfigureServices>b__10_0>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 281
ClientConnectionId:494caedf-de24-4230-ad26-d3b24847b059
Error Number:40615,State:1,Class:14
2025-08-08 08:37:52.615 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:7aa75e65-85c3-4e86-8f90-88637fd6eb20
Error Number:40615,State:1,Class:14
2025-08-08 08:37:52.620 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:7aa75e65-85c3-4e86-8f90-88637fd6eb20
Error Number:40615,State:1,Class:14
2025-08-08 08:37:52.625 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
2025-08-08 08:37:52.626 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 08:37:52.626 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 08:37:52.628 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 08:37:52.630 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 08:37:52.649 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 08:37:52.649 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 08:37:53.027 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 08:37:53.027 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 08:37:53.027 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 08:37:53.027 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 08:37:53.062 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 08:37:53.063 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 08:37:53.063 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 08:37:53.063 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 08:37:53.064 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 08:37:53.266 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 08:37:53.266 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 08:37:53.266 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 08:37:53.266 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 08:37:53.266 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 08:37:53.266 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 08:37:53.266 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 08:37:53.266 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 08:37:53.266 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 08:37:53.266 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 08:37:53.266 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 08:37:54.395 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 08:38:25.497 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 08:40:16.527 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 08:40:16.541 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 08:40:16.553 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 08:40:16.556 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Release\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 08:40:16.556 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 08:40:16.556 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 08:40:16.556 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 08:40:16.559 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 08:40:16.576 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 08:40:16.599 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 08:40:18.743 -06:00 [ERR] üöå Database operation Database EnsureCreated failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:44e8cf27-7d44-4450-8ca8-a342d8fbdbab
Error Number:40615,State:1,Class:14
2025-08-08 08:40:18.765 -06:00 [WRN] üöå ‚ö†Ô∏è Failed to seed database with JSON data: Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.WPF.App.<>c.<<ConfigureServices>b__10_0>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 281
ClientConnectionId:44e8cf27-7d44-4450-8ca8-a342d8fbdbab
Error Number:40615,State:1,Class:14
2025-08-08 08:40:19.174 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass29_0.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:9785592b-2699-48ca-b5ec-dcb5730f51c3
Error Number:40615,State:1,Class:14
2025-08-08 08:40:19.178 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass29_0.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:9785592b-2699-48ca-b5ec-dcb5730f51c3
Error Number:40615,State:1,Class:14
2025-08-08 08:40:19.183 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Cannot open server 'busbuddy-server-sm2' requested by the login. Client with IP address '216.147.124.207' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
2025-08-08 08:40:19.184 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 08:40:19.184 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 08:40:19.186 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 08:40:19.187 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 08:40:19.213 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 08:40:19.213 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 08:40:19.823 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 08:40:19.823 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 08:40:19.823 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 08:40:19.823 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 08:40:19.863 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 08:40:19.864 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 08:40:19.864 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 08:40:19.866 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 08:40:19.867 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 08:40:20.090 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 08:40:20.090 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 08:40:20.090 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 08:40:20.090 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 08:40:20.090 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 08:40:20.091 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 08:40:20.091 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 08:40:20.091 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 08:40:20.091 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 08:40:20.091 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 08:40:20.091 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 08:40:21.305 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 08:44:33.873 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 10:56:48.926 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 10:56:48.948 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 10:56:48.972 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 10:56:48.977 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 10:56:48.978 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 10:56:48.978 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 10:56:48.980 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 10:56:49.201 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 10:56:49.244 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 10:56:49.266 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 10:56:53.063 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:55f27342-7364-4b5c-992a-28be65cde9b1
Error Number:18456,State:1,Class:14
2025-08-08 10:56:53.085 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:55f27342-7364-4b5c-992a-28be65cde9b1
Error Number:18456,State:1,Class:14
2025-08-08 10:56:53.090 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 10:56:53.095 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 10:56:53.095 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 10:56:53.096 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 10:56:53.098 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 10:56:53.212 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 10:56:53.212 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 10:56:55.527 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 10:56:55.528 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 10:56:55.528 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 10:56:55.528 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 10:56:55.581 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 10:56:56.039 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 10:56:56.039 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 10:56:56.040 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 10:56:56.486 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 10:56:56.720 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 10:56:56.720 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 10:56:56.720 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 10:56:56.721 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 10:56:56.721 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 10:56:56.721 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 10:56:56.721 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 10:56:56.721 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 10:56:56.721 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 10:56:56.722 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 10:56:56.722 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 10:56:58.134 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 10:57:03.457 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 11:02:57.759 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 11:02:57.772 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 11:02:57.782 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 11:02:57.785 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 11:02:57.785 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 11:02:57.785 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 11:02:57.785 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 11:02:57.787 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 11:02:57.802 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 11:02:57.822 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 11:03:00.839 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:586002cf-cf85-477a-8b26-dea4dd04b771
Error Number:18456,State:1,Class:14
2025-08-08 11:03:00.868 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:586002cf-cf85-477a-8b26-dea4dd04b771
Error Number:18456,State:1,Class:14
2025-08-08 11:03:00.872 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 11:03:00.873 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 11:03:00.873 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 11:03:00.874 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 11:03:00.876 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 11:03:00.901 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 11:03:00.901 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 11:03:01.425 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 11:03:01.425 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 11:03:01.426 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 11:03:01.426 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 11:03:01.481 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 11:03:01.482 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 11:03:01.482 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 11:03:01.483 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 11:03:01.483 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 11:03:01.708 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 11:03:01.708 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 11:03:01.708 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 11:03:01.708 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 11:03:01.708 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 11:03:01.709 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 11:03:01.709 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 11:03:01.709 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 11:03:01.709 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 11:03:01.709 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 11:03:01.709 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 11:03:02.723 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 11:03:24.456 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 11:04:12.080 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 11:04:12.098 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 11:04:12.113 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 11:04:12.115 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 11:04:12.116 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 11:04:12.116 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 11:04:12.116 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 11:04:12.119 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 11:04:12.139 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 11:04:12.163 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 11:04:15.227 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:03e5d10d-a9de-443d-a704-895b070f4853
Error Number:18456,State:1,Class:14
2025-08-08 11:04:15.243 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:03e5d10d-a9de-443d-a704-895b070f4853
Error Number:18456,State:1,Class:14
2025-08-08 11:04:15.247 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 11:04:15.248 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 11:04:15.248 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 11:04:15.250 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 11:04:15.252 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 11:04:15.276 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 11:04:15.276 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 11:04:15.812 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 11:04:15.813 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 11:04:15.813 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 11:04:15.813 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 11:04:15.877 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 11:04:15.878 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 11:04:15.879 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 11:04:15.879 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 11:04:15.880 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 11:04:16.149 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 11:04:16.149 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 11:04:16.149 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 11:04:16.149 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 11:04:16.149 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 11:04:16.149 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 11:04:16.149 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 11:04:16.150 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 11:04:16.150 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 11:04:16.150 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 11:04:16.150 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 11:04:17.363 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 11:04:21.517 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 11:11:22.079 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 11:11:22.091 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 11:11:22.103 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 11:11:22.104 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 11:11:22.105 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 11:11:22.105 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 11:11:22.105 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 11:11:22.107 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 11:11:22.124 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 11:11:22.142 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 11:11:25.016 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:52850010-4115-4f95-9e29-48a44286e6ac
Error Number:18456,State:1,Class:14
2025-08-08 11:11:25.034 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:52850010-4115-4f95-9e29-48a44286e6ac
Error Number:18456,State:1,Class:14
2025-08-08 11:11:25.041 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 11:11:25.043 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 11:11:25.043 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 11:11:25.044 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 11:11:25.045 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 11:11:25.072 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 11:11:25.072 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 11:11:25.541 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 11:11:25.542 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 11:11:25.542 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 11:11:25.542 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 11:11:25.585 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 11:11:25.586 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 11:11:25.586 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 11:11:25.587 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 11:11:25.588 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 11:11:25.827 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 11:11:25.827 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 11:11:25.828 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 11:11:25.828 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 11:11:25.828 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 11:11:25.828 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 11:11:25.828 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 11:11:25.828 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 11:11:25.828 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 11:11:25.828 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 11:11:25.828 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 11:11:26.837 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 11:11:38.005 -06:00 [INF] üöå Edit student requested
2025-08-08 11:11:40.570 -06:00 [DBG] üöå AddStudent_Click event triggered
2025-08-08 11:11:40.570 -06:00 [DBG] üöå Creating new StudentForm dialog
2025-08-08 11:11:40.697 -06:00 [INF] üöå Loading form data
2025-08-08 11:11:40.697 -06:00 [INF] üöå Loaded 4 routes and 15 bus stops
2025-08-08 11:11:40.697 -06:00 [DBG] üöå Showing StudentForm modal dialog
2025-08-08 11:11:42.722 -06:00 [DBG] üöå StudentForm dialog result: false
2025-08-08 11:11:42.723 -06:00 [DBG] üöå Student form was cancelled or closed without saving
2025-08-08 11:11:44.316 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 11:12:32.211 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 11:12:32.223 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 11:12:32.234 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 11:12:32.236 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 11:12:32.236 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 11:12:32.236 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 11:12:32.236 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 11:12:32.238 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 11:12:32.254 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 11:12:32.273 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 11:12:35.245 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:51239f99-fd49-46d4-bc21-950825080009
Error Number:18456,State:1,Class:14
2025-08-08 11:12:35.261 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:51239f99-fd49-46d4-bc21-950825080009
Error Number:18456,State:1,Class:14
2025-08-08 11:12:35.267 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 11:12:35.268 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 11:12:35.268 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 11:12:35.269 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 11:12:35.270 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 11:12:35.295 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 11:12:35.295 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 11:12:35.826 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 11:12:35.827 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 11:12:35.827 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 11:12:35.827 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 11:12:35.875 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 11:12:35.876 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 11:12:35.876 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 11:12:35.877 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 11:12:35.878 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 11:12:36.110 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 11:12:36.110 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 11:12:36.111 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 11:12:36.111 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 11:12:36.111 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 11:12:36.111 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 11:12:36.111 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 11:12:36.111 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 11:12:36.111 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 11:12:36.111 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 11:12:36.111 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 11:12:37.112 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 11:13:33.937 -06:00 [ERR] üöå Database operation Database EnsureCreated failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:2b7bd12d-2a48-44d8-aab8-df82c98336b5
Error Number:18456,State:1,Class:14
2025-08-08 11:13:33.945 -06:00 [WRN] üöå ‚ö†Ô∏è Failed to seed database with JSON data: Login failed for user '${AZURE_SQL_USER}'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.WPF.App.<>c.<<ConfigureServices>b__10_0>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 281
ClientConnectionId:2b7bd12d-2a48-44d8-aab8-df82c98336b5
Error Number:18456,State:1,Class:14
2025-08-08 11:41:20.750 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 11:41:20.768 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 11:41:20.952 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 11:41:20.954 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 11:41:20.955 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 11:41:20.955 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 11:41:20.955 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 11:41:20.958 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 11:41:20.986 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 11:41:21.013 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 11:41:24.915 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:b2d7c505-c3d0-44f9-97ba-f6b51e7ef068
Error Number:18456,State:1,Class:14
2025-08-08 11:41:24.929 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:b2d7c505-c3d0-44f9-97ba-f6b51e7ef068
Error Number:18456,State:1,Class:14
2025-08-08 11:41:24.934 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 11:41:24.935 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 11:41:24.935 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 11:41:24.936 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 11:41:24.937 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 11:41:24.959 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 11:41:24.959 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 11:41:25.441 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 11:41:25.441 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 11:41:25.442 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 11:41:25.442 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 11:41:25.491 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 11:41:25.492 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 11:41:25.492 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 11:41:25.493 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 11:41:25.493 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 11:41:25.753 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 11:41:25.754 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 11:41:25.754 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 11:41:25.754 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 11:41:25.754 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 11:41:25.754 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 11:41:25.754 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 11:41:25.754 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 11:41:25.754 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 11:41:25.754 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 11:41:25.754 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 11:41:26.939 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 11:42:22.595 -06:00 [ERR] üöå Database operation Database EnsureCreated failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:3e65b6e9-3a32-4550-878d-c0a4a407abea
Error Number:18456,State:1,Class:14
2025-08-08 11:42:22.601 -06:00 [WRN] üöå ‚ö†Ô∏è Failed to seed database with JSON data: Login failed for user '${AZURE_SQL_USER}'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.WPF.App.<>c.<<ConfigureServices>b__10_0>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 281
ClientConnectionId:3e65b6e9-3a32-4550-878d-c0a4a407abea
Error Number:18456,State:1,Class:14
2025-08-08 11:53:36.481 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 12:08:52.750 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 12:08:52.762 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 12:08:52.771 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 12:08:52.773 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 12:08:52.774 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 12:08:52.774 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 12:08:52.775 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 12:08:52.777 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 12:08:52.790 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 12:08:52.802 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 12:08:55.719 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:d7328b3a-64a0-4b83-a5c7-08c111330016
Error Number:18456,State:1,Class:14
2025-08-08 12:08:55.729 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:d7328b3a-64a0-4b83-a5c7-08c111330016
Error Number:18456,State:1,Class:14
2025-08-08 12:08:55.731 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 12:08:55.732 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 12:08:55.732 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 12:08:55.732 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 12:08:55.733 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 12:08:55.749 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 12:08:55.749 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 12:08:56.056 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 12:08:56.057 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 12:08:56.057 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 12:08:56.057 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 12:08:56.092 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 12:08:56.093 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 12:08:56.093 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 12:08:56.093 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 12:08:56.094 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 12:08:56.251 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 12:08:56.251 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 12:08:56.251 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 12:08:56.251 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 12:08:56.251 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 12:08:56.251 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 12:08:56.251 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 12:08:56.251 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 12:08:56.251 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 12:08:56.251 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 12:08:56.251 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 12:08:57.136 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 12:08:59.863 -06:00 [INF] üöå Auto-assignment completed for route Route 1
2025-08-08 12:09:55.836 -06:00 [ERR] üöå Database operation Database EnsureCreated failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:3a013ce5-03aa-4c71-a49c-3e5b4e6f0877
Error Number:18456,State:1,Class:14
2025-08-08 12:09:55.840 -06:00 [WRN] üöå ‚ö†Ô∏è Failed to seed database with JSON data: Login failed for user '${AZURE_SQL_USER}'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.WPF.App.<>c.<<ConfigureServices>b__10_0>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 281
ClientConnectionId:3a013ce5-03aa-4c71-a49c-3e5b4e6f0877
Error Number:18456,State:1,Class:14
2025-08-08 12:13:59.404 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 12:13:59.443 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 12:13:59.471 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 12:13:59.476 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 12:13:59.477 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 12:13:59.478 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 12:13:59.478 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 12:13:59.484 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 12:13:59.520 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 12:13:59.562 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 12:14:03.933 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:52173da1-52f1-478a-acb4-a83b20bd6d34
Error Number:18456,State:1,Class:14
2025-08-08 12:14:03.958 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:52173da1-52f1-478a-acb4-a83b20bd6d34
Error Number:18456,State:1,Class:14
2025-08-08 12:14:03.968 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 12:14:03.970 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 12:14:03.970 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 12:14:03.973 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 12:14:03.977 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 12:14:04.016 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 12:14:04.017 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 12:14:05.014 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 12:14:05.015 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 12:14:05.016 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 12:14:05.016 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 12:14:05.114 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 12:14:05.116 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 12:14:05.116 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 12:14:05.117 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 12:14:05.119 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 12:14:05.626 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 12:14:05.626 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 12:14:05.626 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 12:14:05.627 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 12:14:05.627 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 12:14:05.627 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 12:14:05.627 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 12:14:05.627 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 12:14:05.627 -06:00 [INF] üöå Syncfusion event hooks prepared (awaiting XAML control definitions)
2025-08-08 12:14:05.627 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 12:14:05.628 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 12:14:07.380 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 12:15:02.316 -06:00 [ERR] üöå Database operation Database EnsureCreated failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:322fd21b-400f-49af-98a6-32a4a371e4a0
Error Number:18456,State:1,Class:14
2025-08-08 12:15:02.332 -06:00 [WRN] üöå ‚ö†Ô∏è Failed to seed database with JSON data: Login failed for user '${AZURE_SQL_USER}'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 282
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.WPF.App.<>c.<<ConfigureServices>b__10_0>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 281
ClientConnectionId:322fd21b-400f-49af-98a6-32a4a371e4a0
Error Number:18456,State:1,Class:14
2025-08-08 12:15:20.616 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 12:23:26.885 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 12:23:26.907 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 12:23:26.921 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 12:23:26.923 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 12:23:26.923 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 12:23:26.923 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 12:23:26.923 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 12:23:26.925 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 12:23:26.943 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 12:23:26.963 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 12:23:29.307 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:5f6d19c7-bc02-4638-9fc0-834021cbc05f
Error Number:18456,State:1,Class:14
2025-08-08 12:23:29.324 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:5f6d19c7-bc02-4638-9fc0-834021cbc05f
Error Number:18456,State:1,Class:14
2025-08-08 12:23:29.330 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 12:23:29.332 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 12:23:29.332 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 12:23:29.333 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 12:23:29.335 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 12:23:29.364 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 12:23:29.364 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 12:23:30.056 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 12:23:30.057 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 12:23:30.057 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 12:23:30.057 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 12:23:30.108 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 12:23:30.109 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 12:23:30.109 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 12:23:30.110 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 12:23:30.111 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 12:23:30.354 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 12:23:30.354 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 12:23:30.354 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 12:23:30.354 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 12:23:30.354 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 12:23:30.355 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 12:23:30.355 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 12:23:30.355 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 12:23:30.355 -06:00 [INF] üöå Syncfusion event hooks ready (basic functionality enabled)
2025-08-08 12:23:30.355 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 12:23:30.355 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 12:23:31.541 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 12:24:03.412 -06:00 [DBG] üöå AddStudent_Click event triggered
2025-08-08 12:24:03.412 -06:00 [DBG] üöå Creating new StudentForm dialog
2025-08-08 12:24:03.447 -06:00 [INF] üöå Loading form data
2025-08-08 12:24:03.447 -06:00 [INF] üöå Loaded 4 routes and 15 bus stops
2025-08-08 12:24:03.448 -06:00 [DBG] üöå Showing StudentForm modal dialog
2025-08-08 12:24:05.350 -06:00 [DBG] üöå StudentForm dialog result: false
2025-08-08 12:24:05.350 -06:00 [DBG] üöå Student form was cancelled or closed without saving
2025-08-08 12:24:06.745 -06:00 [INF] üöå Edit student requested
2025-08-08 12:24:09.533 -06:00 [DBG] üöå AddStudent_Click event triggered
2025-08-08 12:24:09.533 -06:00 [DBG] üöå Creating new StudentForm dialog
2025-08-08 12:24:09.549 -06:00 [INF] üöå Loading form data
2025-08-08 12:24:09.549 -06:00 [INF] üöå Loaded 4 routes and 15 bus stops
2025-08-08 12:24:09.549 -06:00 [DBG] üöå Showing StudentForm modal dialog
2025-08-08 12:24:11.015 -06:00 [INF] üöå Validating address for student
2025-08-08 12:24:11.645 -06:00 [INF] üöå Validating address for student
2025-08-08 12:24:13.198 -06:00 [DBG] üöå StudentForm dialog result: false
2025-08-08 12:24:13.198 -06:00 [DBG] üöå Student form was cancelled or closed without saving
2025-08-08 12:24:17.696 -06:00 [INF] üöå Auto-assignment completed for route Route 1
2025-08-08 12:24:21.019 -06:00 [INF] üöå Loaded 3 stops for route Route 2
2025-08-08 12:24:21.019 -06:00 [INF] üöå Deleted route Route 1
2025-08-08 12:24:21.723 -06:00 [INF] üöå Saved route Route 2
2025-08-08 12:24:23.888 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 12:24:23.888 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 12:24:23.888 -06:00 [INF] üöå Data refreshed successfully
2025-08-08 12:24:28.367 -06:00 [ERR] üöå Database operation Database EnsureCreated failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 284
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:e9818e84-d8f0-4214-931a-e81239694bc6
Error Number:18456,State:1,Class:14
2025-08-08 12:24:28.372 -06:00 [WRN] üöå ‚ö†Ô∏è Failed to seed database with JSON data: Login failed for user '${AZURE_SQL_USER}'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at BusBuddy.WPF.App.<>c__DisplayClass10_0.<<ConfigureServices>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 284
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.WPF.App.<>c.<<ConfigureServices>b__10_0>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\App.xaml.cs:line 283
ClientConnectionId:e9818e84-d8f0-4214-931a-e81239694bc6
Error Number:18456,State:1,Class:14
2025-08-08 12:24:28.644 -06:00 [INF] üöå Buses button clicked
2025-08-08 12:24:31.284 -06:00 [DBG] üöå DriversButton_Click event triggered
2025-08-08 12:24:31.284 -06:00 [INF] üöå Drivers navigation requested
2025-08-08 12:24:31.284 -06:00 [DBG] üöå Drivers navigation logic completed
2025-08-08 12:24:32.193 -06:00 [DBG] üöå RouteManagementButton_Click event triggered
2025-08-08 12:24:32.193 -06:00 [INF] üöå Route management navigation requested
2025-08-08 12:24:32.193 -06:00 [DBG] üöå Route management navigation logic completed
2025-08-08 12:24:33.463 -06:00 [DBG] üöå StudentsButton_Click event triggered
2025-08-08 12:24:33.463 -06:00 [INF] üöå Students navigation requested
2025-08-08 12:24:33.480 -06:00 [INF] üöå Loading students from database
2025-08-08 12:24:33.480 -06:00 [INF] üöå Creating design-time BusBuddyDbContext
2025-08-08 12:24:33.480 -06:00 [INF] üöå Using Azure SQL credential fallback for design-time context
2025-08-08 12:24:33.576 -06:00 [INF] üöå Creating design-time BusBuddyDbContext
2025-08-08 12:24:33.576 -06:00 [INF] üöå Using Azure SQL credential fallback for design-time context
2025-08-08 12:24:33.607 -06:00 [DBG] üöå Showing StudentsView in modal dialog
2025-08-08 12:24:34.959 -06:00 [INF] üöå Loaded 0 students
2025-08-08 12:24:36.064 -06:00 [INF] üöå Show summary command executed
2025-08-08 12:24:36.064 -06:00 [INF] üöå Reference data loaded: 14 grades, 0 schools, 0 routes
2025-08-08 12:24:36.704 -06:00 [INF] üöå Show quick actions command executed
2025-08-08 12:24:37.834 -06:00 [INF] üöå StudentsView dialog closed
2025-08-08 12:24:37.834 -06:00 [DBG] üöå RefreshStudentsGrid method started
2025-08-08 12:24:37.835 -06:00 [WRN] üöå DataContext is not MainWindowViewModel, cannot refresh students
2025-08-08 12:24:38.948 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 12:30:15.873 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 12:30:15.894 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 12:30:15.915 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 12:30:15.918 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 12:30:15.918 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 12:30:15.918 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 12:30:15.918 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 12:30:15.921 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 12:30:15.950 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 12:30:15.982 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 12:30:18.643 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:6117cb97-0d72-4f75-aa92-aa35154a6597
Error Number:18456,State:1,Class:14
2025-08-08 12:30:18.654 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:6117cb97-0d72-4f75-aa92-aa35154a6597
Error Number:18456,State:1,Class:14
2025-08-08 12:30:18.657 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 12:30:18.657 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 12:30:18.657 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 12:30:18.658 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 12:30:18.660 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 12:30:18.679 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 12:30:18.679 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 12:30:19.213 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 12:30:19.214 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 12:30:19.214 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 12:30:19.214 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 12:30:19.266 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 12:30:19.267 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 12:30:19.267 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 12:30:19.268 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 12:30:19.268 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 12:30:19.577 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 12:30:19.577 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 12:30:19.577 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 12:30:19.577 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 12:30:19.578 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 12:30:19.578 -06:00 [INF] üöå MainWindow data context initialized
2025-08-08 12:30:19.578 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 12:30:19.578 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 12:30:19.578 -06:00 [INF] üöå Syncfusion event hooks ready (basic functionality enabled)
2025-08-08 12:30:19.578 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 12:30:19.579 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 12:30:20.751 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 12:30:24.663 -06:00 [INF] üöå Auto-assignment completed for route Route 1
2025-08-08 12:30:31.978 -06:00 [INF] üöå Loaded 3 stops for route Route 2
2025-08-08 12:30:31.978 -06:00 [INF] üöå Deleted route Route 1
2025-08-08 12:30:32.503 -06:00 [INF] üöå Saved route Route 2
2025-08-08 12:30:33.954 -06:00 [DBG] üöå AddStudent_Click event triggered
2025-08-08 12:30:33.954 -06:00 [DBG] üöå Creating new StudentForm dialog
2025-08-08 12:30:33.995 -06:00 [INF] üöå Loading form data
2025-08-08 12:30:33.996 -06:00 [INF] üöå Loaded 4 routes and 15 bus stops
2025-08-08 12:30:33.996 -06:00 [DBG] üöå Showing StudentForm modal dialog
2025-08-08 12:30:35.987 -06:00 [DBG] üöå StudentForm dialog result: false
2025-08-08 12:30:35.987 -06:00 [DBG] üöå Student form was cancelled or closed without saving
2025-08-08 12:30:37.155 -06:00 [INF] üöå Edit student requested
2025-08-08 12:30:40.132 -06:00 [DBG] üöå DriversButton_Click event triggered
2025-08-08 12:30:40.132 -06:00 [INF] üöå Drivers navigation requested
2025-08-08 12:30:40.132 -06:00 [DBG] üöå Drivers navigation logic completed
2025-08-08 12:30:40.852 -06:00 [INF] üöå Buses button clicked
2025-08-08 12:30:43.340 -06:00 [DBG] üöå RouteManagementButton_Click event triggered
2025-08-08 12:30:43.340 -06:00 [INF] üöå Route management navigation requested
2025-08-08 12:30:43.340 -06:00 [DBG] üöå Route management navigation logic completed
2025-08-08 12:30:44.368 -06:00 [DBG] üöå StudentsButton_Click event triggered
2025-08-08 12:30:44.369 -06:00 [INF] üöå Students navigation requested
2025-08-08 12:30:44.386 -06:00 [INF] üöå Loading students from database
2025-08-08 12:30:44.386 -06:00 [INF] üöå Creating design-time BusBuddyDbContext
2025-08-08 12:30:44.386 -06:00 [INF] üöå Using Azure SQL credential fallback for design-time context
2025-08-08 12:30:44.470 -06:00 [INF] üöå Creating design-time BusBuddyDbContext
2025-08-08 12:30:44.470 -06:00 [INF] üöå Using Azure SQL credential fallback for design-time context
2025-08-08 12:30:44.499 -06:00 [DBG] üöå Showing StudentsView in modal dialog
2025-08-08 12:30:44.825 -06:00 [INF] üöå Loaded 0 students
2025-08-08 12:30:45.057 -06:00 [INF] üöå Reference data loaded: 14 grades, 0 schools, 0 routes
2025-08-08 12:30:46.246 -06:00 [INF] üöå Show summary command executed
2025-08-08 12:30:46.764 -06:00 [INF] üöå Show quick actions command executed
2025-08-08 12:30:47.867 -06:00 [INF] üöå StudentsView dialog closed
2025-08-08 12:30:47.868 -06:00 [DBG] üöå RefreshStudentsGrid method started
2025-08-08 12:30:47.868 -06:00 [WRN] üöå DataContext is not MainWindowViewModel, cannot refresh students
2025-08-08 12:30:55.445 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 12:44:26.640 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 12:44:26.665 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 12:44:26.862 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 12:44:26.865 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 12:44:26.865 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 12:44:26.866 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 12:44:26.866 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 12:44:26.869 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 12:44:26.899 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 12:44:26.925 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 12:44:30.325 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:85d18ae3-88ac-4244-b7c0-aacd527a4ea2
Error Number:18456,State:1,Class:14
2025-08-08 12:44:30.338 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:85d18ae3-88ac-4244-b7c0-aacd527a4ea2
Error Number:18456,State:1,Class:14
2025-08-08 12:44:30.341 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 12:44:30.342 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 12:44:30.342 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 12:44:30.343 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 12:44:30.344 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 12:44:30.364 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 12:44:30.364 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 12:44:30.809 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 12:44:30.809 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 12:44:30.809 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 12:44:30.810 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 12:44:30.861 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 12:44:30.862 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 12:44:30.862 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 12:44:30.863 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 12:44:30.864 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 12:44:31.158 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 12:44:31.158 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 12:44:31.159 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 12:44:31.159 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 12:44:31.159 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 12:44:31.159 -06:00 [DBG] üöå No DataContext found, creating new MainWindowViewModel
2025-08-08 12:44:31.159 -06:00 [INF] üöå MainWindow data context initialized with new ViewModel
2025-08-08 12:44:31.159 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 12:44:31.159 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 12:44:31.159 -06:00 [INF] üöå Syncfusion event hooks ready (basic functionality enabled)
2025-08-08 12:44:31.159 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 12:44:31.159 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 12:44:32.579 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 12:44:43.164 -06:00 [DBG] üöå AddStudent_Click event triggered
2025-08-08 12:44:43.164 -06:00 [DBG] üöå Creating new StudentForm dialog
2025-08-08 12:44:43.219 -06:00 [INF] üöå Loading form data
2025-08-08 12:44:43.219 -06:00 [INF] üöå Loaded 4 routes and 15 bus stops
2025-08-08 12:44:43.219 -06:00 [DBG] üöå Showing StudentForm modal dialog
2025-08-08 12:44:44.958 -06:00 [INF] üöå Validating address for student
2025-08-08 12:44:46.535 -06:00 [DBG] üöå StudentForm dialog result: false
2025-08-08 12:44:46.535 -06:00 [DBG] üöå Student form was cancelled or closed without saving
2025-08-08 12:44:47.680 -06:00 [INF] üöå Edit student requested
2025-08-08 12:44:50.188 -06:00 [DBG] üöå AddStudent_Click event triggered
2025-08-08 12:44:50.188 -06:00 [DBG] üöå Creating new StudentForm dialog
2025-08-08 12:44:50.203 -06:00 [INF] üöå Loading form data
2025-08-08 12:44:50.203 -06:00 [INF] üöå Loaded 4 routes and 15 bus stops
2025-08-08 12:44:50.204 -06:00 [DBG] üöå Showing StudentForm modal dialog
2025-08-08 12:45:16.709 -06:00 [INF] üöå Validating address for student
2025-08-08 12:45:17.532 -06:00 [INF] üöå Validating address for student
2025-08-08 12:45:18.941 -06:00 [DBG] üöå StudentForm dialog result: false
2025-08-08 12:45:18.941 -06:00 [DBG] üöå Student form was cancelled or closed without saving
2025-08-08 12:45:21.142 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 12:55:25.270 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 12:55:25.296 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 12:55:25.320 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 12:55:25.323 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 12:55:25.324 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 12:55:25.324 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 12:55:25.324 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 12:55:25.329 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 12:55:25.361 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 12:55:25.401 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 12:55:29.165 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:9584cbcc-ad53-4bd8-8383-0380718e068c
Error Number:18456,State:1,Class:14
2025-08-08 12:55:29.189 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:9584cbcc-ad53-4bd8-8383-0380718e068c
Error Number:18456,State:1,Class:14
2025-08-08 12:55:29.197 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 12:55:29.199 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 12:55:29.199 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 12:55:29.201 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 12:55:29.203 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 12:55:29.241 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 12:55:29.241 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 12:55:30.023 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 12:55:30.025 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 12:55:30.025 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 12:55:30.025 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 12:55:30.105 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 12:55:30.107 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 12:55:30.107 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 12:55:30.108 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 12:55:30.109 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 12:55:30.490 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 12:55:30.490 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 12:55:30.491 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 12:55:30.491 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 12:55:30.491 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 12:55:30.491 -06:00 [DBG] üöå No DataContext found, creating new MainWindowViewModel
2025-08-08 12:55:30.491 -06:00 [INF] üöå MainWindow data context initialized with new ViewModel
2025-08-08 12:55:30.491 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 12:55:30.491 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 12:55:30.492 -06:00 [INF] üöå Syncfusion event hooks ready (basic functionality enabled)
2025-08-08 12:55:30.492 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 12:55:30.492 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 12:55:32.465 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 12:55:35.707 -06:00 [DBG] üöå AddStudent_Click event triggered
2025-08-08 12:55:35.708 -06:00 [DBG] üöå Creating new StudentForm dialog
2025-08-08 12:55:35.834 -06:00 [INF] üöå Loading form data
2025-08-08 12:55:35.835 -06:00 [INF] üöå Loaded 4 routes and 15 bus stops
2025-08-08 12:55:35.836 -06:00 [DBG] üöå Showing StudentForm modal dialog
2025-08-08 12:55:37.378 -06:00 [INF] üöå Validating address for student
2025-08-08 12:55:39.168 -06:00 [DBG] üöå StudentForm dialog result: false
2025-08-08 12:55:39.168 -06:00 [DBG] üöå Student form was cancelled or closed without saving
2025-08-08 13:09:48.060 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 13:09:48.080 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 13:09:48.101 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 13:09:48.104 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 13:09:48.105 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 13:09:48.105 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 13:09:48.105 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 13:09:48.108 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 13:09:48.149 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 13:09:48.186 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 13:09:51.466 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
ClientConnectionId:0e9a9ddf-d46d-4ded-b4e5-0bc3864bd713
Error Number:18456,State:1,Class:14
2025-08-08 13:09:51.487 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user '${AZURE_SQL_USER}'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1226
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
ClientConnectionId:0e9a9ddf-d46d-4ded-b4e5-0bc3864bd713
Error Number:18456,State:1,Class:14
2025-08-08 13:09:51.492 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=0, Error=Login failed for user '${AZURE_SQL_USER}'.
2025-08-08 13:09:51.493 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 13:09:51.493 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 13:09:51.495 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 13:09:51.496 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 13:09:51.527 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 13:09:51.527 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 13:09:52.178 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 13:09:52.178 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 13:09:52.178 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 13:09:52.179 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 13:09:52.239 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 13:09:52.240 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 13:09:52.241 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 13:09:52.241 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 13:09:52.242 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 13:09:52.528 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 13:09:52.528 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 13:09:52.528 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 13:09:52.528 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 13:09:52.528 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 13:09:52.528 -06:00 [DBG] üöå No DataContext found, creating new MainWindowViewModel
2025-08-08 13:09:52.529 -06:00 [INF] üöå MainWindow data context initialized with new ViewModel
2025-08-08 13:09:52.529 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 13:09:52.529 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 13:09:52.529 -06:00 [INF] üöå Syncfusion event hooks ready (basic functionality enabled)
2025-08-08 13:09:52.529 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 13:09:52.529 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 13:09:54.580 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 13:09:56.817 -06:00 [DBG] üöå AddStudent_Click event triggered
2025-08-08 13:09:56.817 -06:00 [DBG] üöå Creating new StudentForm dialog
2025-08-08 13:09:56.881 -06:00 [INF] üöå Loading form data
2025-08-08 13:09:56.882 -06:00 [INF] üöå Loaded 4 routes and 15 bus stops
2025-08-08 13:09:56.883 -06:00 [DBG] üöå Showing StudentForm modal dialog
2025-08-08 13:09:58.376 -06:00 [INF] üöå Validating address for student
2025-08-08 13:09:59.111 -06:00 [INF] üöå Validating address for student
2025-08-08 13:10:00.606 -06:00 [DBG] üöå StudentForm dialog result: false
2025-08-08 13:10:00.606 -06:00 [DBG] üöå Student form was cancelled or closed without saving
2025-08-08 13:10:26.703 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 13:30:47.548 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 13:30:47.581 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 13:30:47.610 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 13:30:47.613 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 13:30:47.613 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 13:30:47.614 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 13:30:47.614 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 13:30:47.618 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 13:30:47.653 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 13:30:47.689 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 13:30:52.778 -06:00 [INF] üöå üå± Database is empty, attempting to seed with JSON data
2025-08-08 13:30:52.787 -06:00 [INF] üöå Starting JSON student data import from: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\Data\wiley-school-district-data.json
2025-08-08 13:30:52.932 -06:00 [ERR] üöå Database operation SeedWileySchoolDistrictData failed permanently after 1 attempts
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Students_Family". The conflict occurred in database "BusBuddyDB", table "dbo.Families", column 'FamilyId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a005b4ad-203e-405e-aca2-286be1a9b3a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BusBuddy.Core.Data.BusBuddyDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Data\BusBuddyDbContext.cs:line 932
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1234
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
2025-08-08 13:30:52.970 -06:00 [ERR] üöå Error during Wiley School District data seeding
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Students_Family". The conflict occurred in database "BusBuddyDB", table "dbo.Families", column 'FamilyId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a005b4ad-203e-405e-aca2-286be1a9b3a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BusBuddy.Core.Data.BusBuddyDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Data\BusBuddyDbContext.cs:line 932
   at BusBuddy.Core.Services.StudentService.<>c__DisplayClass33_1.<<SeedWileySchoolDistrictDataAsync>b__1>d.MoveNext() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1234
--- End of stack trace from previous location ---
   at BusBuddy.Core.Utilities.ResilientDbExecution.ExecuteWithResilienceAsync[T](Func`1 operation, String operationName, Int32 maxRetries) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Utilities\ResilientDbExecution.cs:line 44
   at BusBuddy.Core.Services.StudentService.SeedWileySchoolDistrictDataAsync() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Services\StudentService.cs:line 1224
2025-08-08 13:30:53.008 -06:00 [INF] üöå üöå Wiley seeding result: Success=False, RecordsSeeded=5, Error=An error occurred while saving the entity changes. See the inner exception for details.
2025-08-08 13:30:53.011 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 13:30:53.011 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 13:30:53.014 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 13:30:53.019 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 13:30:53.072 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 13:30:53.072 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 13:30:53.748 -06:00 [INF] üöå JSON import completed: 0 students, 10 families added
2025-08-08 13:30:53.748 -06:00 [INF] üöå ‚úÖ Successfully seeded database with 0 students from 10 families
2025-08-08 13:30:54.005 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 13:30:54.006 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 13:30:54.006 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 13:30:54.007 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 13:30:54.128 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 13:30:54.131 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 13:30:54.131 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 13:30:54.133 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 13:30:54.134 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 13:30:54.607 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 13:30:54.607 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 13:30:54.608 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 13:30:54.608 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 13:30:54.608 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 13:30:54.609 -06:00 [DBG] üöå No DataContext found, creating new MainWindowViewModel
2025-08-08 13:30:54.609 -06:00 [INF] üöå MainWindow data context initialized with new ViewModel
2025-08-08 13:30:54.609 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 13:30:54.609 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 13:30:54.610 -06:00 [INF] üöå Syncfusion event hooks ready (basic functionality enabled)
2025-08-08 13:30:54.610 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 13:30:54.610 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 13:30:56.631 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 13:31:11.674 -06:00 [DBG] üöå AddStudent_Click event triggered
2025-08-08 13:31:11.674 -06:00 [DBG] üöå Creating new StudentForm dialog
2025-08-08 13:31:11.744 -06:00 [INF] üöå Loading form data
2025-08-08 13:31:11.744 -06:00 [INF] üöå Loaded 4 routes and 15 bus stops
2025-08-08 13:31:11.745 -06:00 [DBG] üöå Showing StudentForm modal dialog
2025-08-08 13:31:13.916 -06:00 [INF] üöå Validating address for student
2025-08-08 13:31:36.408 -06:00 [INF] üöå Validating address for student
2025-08-08 13:31:37.922 -06:00 [DBG] üöå StudentForm dialog result: false
2025-08-08 13:31:37.922 -06:00 [DBG] üöå Student form was cancelled or closed without saving
2025-08-08 13:32:08.087 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 13:36:36.527 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 13:36:36.539 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 13:36:36.550 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 13:36:36.551 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 13:36:36.552 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 13:36:36.552 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 13:36:36.552 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 13:36:36.554 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 13:36:36.569 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 13:36:36.589 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 13:36:38.583 -06:00 [INF] üöå Adding 5 Wiley students to database
2025-08-08 13:36:38.632 -06:00 [INF] üöå üå± Database is empty, attempting to seed with JSON data
2025-08-08 13:36:38.636 -06:00 [INF] üöå Starting JSON student data import from: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\Data\wiley-school-district-data.json
2025-08-08 13:36:38.875 -06:00 [INF] üöå Successfully saved 5 Wiley students
2025-08-08 13:36:38.879 -06:00 [INF] üöå üöå Wiley seeding result: Success=True, RecordsSeeded=5, Error=
2025-08-08 13:36:38.880 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 13:36:38.880 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 13:36:38.881 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 13:36:38.882 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 13:36:38.922 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 13:36:38.922 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 13:36:39.513 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 13:36:39.515 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 13:36:39.515 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 13:36:39.515 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 13:36:39.558 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 13:36:39.559 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 13:36:39.559 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 13:36:39.560 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 13:36:39.561 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 13:36:39.859 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 13:36:39.859 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 13:36:39.859 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 13:36:39.859 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 13:36:39.859 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 13:36:39.859 -06:00 [DBG] üöå No DataContext found, creating new MainWindowViewModel
2025-08-08 13:36:39.859 -06:00 [INF] üöå MainWindow data context initialized with new ViewModel
2025-08-08 13:36:39.859 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 13:36:39.859 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 13:36:39.859 -06:00 [INF] üöå Syncfusion event hooks ready (basic functionality enabled)
2025-08-08 13:36:39.860 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 13:36:39.860 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 13:36:40.365 -06:00 [INF] üöå JSON import completed: 0 students, 0 families added
2025-08-08 13:36:40.365 -06:00 [INF] üöå ‚úÖ Successfully seeded database with 0 students from 0 families
2025-08-08 13:36:40.948 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 13:36:43.150 -06:00 [DBG] üöå AddStudent_Click event triggered
2025-08-08 13:36:43.150 -06:00 [DBG] üöå Creating new StudentForm dialog
2025-08-08 13:36:43.198 -06:00 [INF] üöå Loading form data
2025-08-08 13:36:43.198 -06:00 [INF] üöå Loaded 4 routes and 15 bus stops
2025-08-08 13:36:43.198 -06:00 [DBG] üöå Showing StudentForm modal dialog
2025-08-08 13:36:45.666 -06:00 [DBG] üöå StudentForm dialog result: false
2025-08-08 13:36:45.666 -06:00 [DBG] üöå Student form was cancelled or closed without saving
2025-08-08 13:36:50.515 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 13:36:50.516 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 13:36:50.516 -06:00 [INF] üöå Data refreshed successfully
2025-08-08 13:36:53.958 -06:00 [DBG] üöå StudentsButton_Click event triggered
2025-08-08 13:36:53.958 -06:00 [INF] üöå Students navigation requested
2025-08-08 13:36:53.981 -06:00 [INF] üöå Loading students from database
2025-08-08 13:36:53.982 -06:00 [INF] üöå Creating design-time BusBuddyDbContext
2025-08-08 13:36:53.982 -06:00 [INF] üöå Using Azure SQL credential fallback for design-time context
2025-08-08 13:36:54.047 -06:00 [INF] üöå Creating design-time BusBuddyDbContext
2025-08-08 13:36:54.047 -06:00 [INF] üöå Using Azure SQL credential fallback for design-time context
2025-08-08 13:36:54.063 -06:00 [DBG] üöå Showing StudentsView in modal dialog
2025-08-08 13:36:54.413 -06:00 [INF] üöå Loaded 5 students
2025-08-08 13:36:54.660 -06:00 [INF] üöå Reference data loaded: 14 grades, 1 schools, 0 routes
2025-08-08 13:36:58.250 -06:00 [INF] üöå StudentsView dialog closed
2025-08-08 13:36:58.250 -06:00 [DBG] üöå RefreshStudentsGrid method started
2025-08-08 13:36:58.250 -06:00 [WRN] üöå DataContext is not MainWindowViewModel, cannot refresh students
2025-08-08 13:36:59.444 -06:00 [DBG] üöå RouteManagementButton_Click event triggered
2025-08-08 13:36:59.444 -06:00 [INF] üöå Route management navigation requested
2025-08-08 13:36:59.444 -06:00 [DBG] üöå Route management navigation logic completed
2025-08-08 13:37:00.121 -06:00 [INF] üöå Buses button clicked
2025-08-08 13:37:03.235 -06:00 [DBG] üöå DriversButton_Click event triggered
2025-08-08 13:37:03.236 -06:00 [INF] üöå Drivers navigation requested
2025-08-08 13:37:03.236 -06:00 [DBG] üöå Drivers navigation logic completed
2025-08-08 13:38:04.224 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 13:38:39.185 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 13:38:39.205 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 13:38:39.222 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 13:38:39.225 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 13:38:39.225 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 13:38:39.225 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 13:38:39.226 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 13:38:39.230 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 13:38:39.257 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 13:38:39.284 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 13:38:42.223 -06:00 [INF] üöå Wiley seeding skipped: 5 students already exist
2025-08-08 13:38:42.232 -06:00 [INF] üöå üöå Wiley seeding result: Success=True, RecordsSeeded=0, Error=Already seeded
2025-08-08 13:38:42.234 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 13:38:42.234 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 13:38:42.237 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 13:38:42.240 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 13:38:42.286 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 13:38:42.286 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 13:38:42.493 -06:00 [INF] üöå üìä Database already contains student data, skipping seed
2025-08-08 13:38:43.474 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 13:38:43.475 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 13:38:43.476 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 13:38:43.476 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 13:38:43.571 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 13:38:43.573 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 13:38:43.573 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 13:38:43.574 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 13:38:43.576 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 13:38:44.052 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 13:38:44.053 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 13:38:44.053 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 13:38:44.053 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 13:38:44.053 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 13:38:44.053 -06:00 [DBG] üöå No DataContext found, creating new MainWindowViewModel
2025-08-08 13:38:44.054 -06:00 [INF] üöå MainWindow data context initialized with new ViewModel
2025-08-08 13:38:44.054 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 13:38:44.054 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 13:38:44.054 -06:00 [INF] üöå Syncfusion event hooks ready (basic functionality enabled)
2025-08-08 13:38:44.054 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 13:38:44.054 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 13:38:45.777 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 13:38:56.548 -06:00 [DBG] üöå RouteManagementButton_Click event triggered
2025-08-08 13:38:56.548 -06:00 [INF] üöå Route management navigation requested
2025-08-08 13:38:56.548 -06:00 [DBG] üöå Route management navigation logic completed
2025-08-08 13:38:57.516 -06:00 [INF] üöå Buses button clicked
2025-08-08 13:38:59.788 -06:00 [DBG] üöå DriversButton_Click event triggered
2025-08-08 13:38:59.788 -06:00 [INF] üöå Drivers navigation requested
2025-08-08 13:38:59.788 -06:00 [DBG] üöå Drivers navigation logic completed
2025-08-08 13:39:02.427 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
2025-08-08 13:43:35.941 -06:00 [INF] üöå üöå Serilog initialized using configuration from appsettings.json
2025-08-08 13:43:35.963 -06:00 [INF] üöå üöå BusBuddy MVP starting...
2025-08-08 13:43:35.983 -06:00 [INF] üöå üöå BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 13:43:35.986 -06:00 [INF] üöå üöå Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 13:43:35.986 -06:00 [INF] üöå üöå EF Migration mode: false
2025-08-08 13:43:35.986 -06:00 [INF] üöå üöå Design-time mode: false
2025-08-08 13:43:35.987 -06:00 [INF] üöå üöå Initializing BusBuddy MVP application
2025-08-08 13:43:35.990 -06:00 [INF] üöå üîß Setting up full DI container for UI application...
2025-08-08 13:43:36.018 -06:00 [INF] üöå ‚úÖ Full DI container configured successfully for UI application
2025-08-08 13:43:36.049 -06:00 [INF] üöå Starting Wiley School District data seeding operation
2025-08-08 13:43:39.246 -06:00 [INF] üöå Wiley seeding skipped: 5 students already exist
2025-08-08 13:43:39.265 -06:00 [INF] üöå üöå Wiley seeding result: Success=True, RecordsSeeded=0, Error=Already seeded
2025-08-08 13:43:39.268 -06:00 [INF] üöå üèóÔ∏è Creating MainWindow for full UI application
2025-08-08 13:43:39.269 -06:00 [INF] üöå üéØ Creating MainWindow with dependency injection
2025-08-08 13:43:39.273 -06:00 [INF] üöå MainWindowViewModel initialized with sample data
2025-08-08 13:43:39.279 -06:00 [INF] üöå ‚úÖ MainWindowViewModel created successfully via DI
2025-08-08 13:43:39.370 -06:00 [DBG] üöå MainWindow constructor starting
2025-08-08 13:43:39.371 -06:00 [DBG] üöå Calling InitializeComponent for MainWindow XAML
2025-08-08 13:43:39.373 -06:00 [INF] üöå üìä Database already contains student data, skipping seed
2025-08-08 13:43:40.489 -06:00 [INF] üöå Loaded 3 stops for route Route 1
2025-08-08 13:43:40.490 -06:00 [INF] üöå Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 13:43:40.490 -06:00 [INF] üöå Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 13:43:40.490 -06:00 [INF] üöå RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 13:43:40.580 -06:00 [DBG] üöå Applying Syncfusion theme
2025-08-08 13:43:40.582 -06:00 [DBG] üöå ApplySyncfusionTheme method started
2025-08-08 13:43:40.582 -06:00 [DBG] üöå Configuring Syncfusion SfSkinManager global settings
2025-08-08 13:43:40.583 -06:00 [DBG] üöå Creating FluentDark theme instance
2025-08-08 13:43:40.585 -06:00 [DBG] üöå Applying FluentDark theme to MainWindow
2025-08-08 13:43:41.073 -06:00 [INF] üöå Applied FluentDark theme successfully
2025-08-08 13:43:41.074 -06:00 [DBG] üöå ApplySyncfusionTheme completed with FluentDark
2025-08-08 13:43:41.074 -06:00 [DBG] üöå Initializing MainWindow components
2025-08-08 13:43:41.074 -06:00 [DBG] üöå InitializeMainWindow method started
2025-08-08 13:43:41.074 -06:00 [DBG] üöå Creating MainWindowViewModel instance
2025-08-08 13:43:41.074 -06:00 [DBG] üöå No DataContext found, creating new MainWindowViewModel
2025-08-08 13:43:41.075 -06:00 [INF] üöå MainWindow data context initialized with new ViewModel
2025-08-08 13:43:41.075 -06:00 [DBG] üöå InitializeMainWindow method completed
2025-08-08 13:43:41.075 -06:00 [DBG] üöå Attaching Syncfusion event hooks
2025-08-08 13:43:41.075 -06:00 [INF] üöå Syncfusion event hooks ready (basic functionality enabled)
2025-08-08 13:43:41.075 -06:00 [INF] üöå MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 13:43:41.075 -06:00 [DBG] üöå MainWindow constructor completed successfully
2025-08-08 13:43:42.803 -06:00 [INF] üöå üöå BusBuddy MVP application started successfully
2025-08-08 13:43:44.458 -06:00 [DBG] üöå AddStudent_Click event triggered
2025-08-08 13:43:44.458 -06:00 [DBG] üöå Creating new StudentForm dialog
2025-08-08 13:43:44.542 -06:00 [INF] üöå Loading form data
2025-08-08 13:43:44.543 -06:00 [INF] üöå Loaded 4 routes and 15 bus stops
2025-08-08 13:43:44.544 -06:00 [DBG] üöå Showing StudentForm modal dialog
2025-08-08 13:43:46.273 -06:00 [INF] üöå Validating address for student
2025-08-08 13:43:47.948 -06:00 [DBG] üöå StudentForm dialog result: false
2025-08-08 13:43:47.948 -06:00 [DBG] üöå Student form was cancelled or closed without saving
2025-08-08 13:43:49.277 -06:00 [INF] üöå Edit student requested
2025-08-08 13:43:53.006 -06:00 [INF] üöå Auto-assignment completed for route Route 1
2025-08-08 13:43:58.741 -06:00 [INF] üöå Loaded 3 stops for route Route 2
2025-08-08 13:43:58.741 -06:00 [INF] üöå Deleted route Route 1
2025-08-08 13:43:59.552 -06:00 [INF] üöå Saved route Route 2
2025-08-08 13:44:05.094 -06:00 [INF] üöå Loaded 3 stops for route Route 3
2025-08-08 13:44:09.424 -06:00 [DBG] üöå AddDriver_Click event triggered
2025-08-08 13:44:09.424 -06:00 [DBG] üöå Creating new DriverForm dialog
2025-08-08 13:44:09.427 -06:00 [DBG] üöå Showing DriverForm modal dialog
2025-08-08 13:44:13.194 -06:00 [DBG] üöå DriverForm dialog result: false
2025-08-08 13:44:13.195 -06:00 [DBG] üöå Driver form was cancelled or closed without saving
2025-08-08 13:44:26.192 -06:00 [DBG] üöå DriversButton_Click event triggered
2025-08-08 13:44:26.192 -06:00 [INF] üöå Drivers navigation requested
2025-08-08 13:44:26.192 -06:00 [DBG] üöå Drivers navigation logic completed
2025-08-08 13:44:26.787 -06:00 [INF] üöå Buses button clicked
2025-08-08 13:44:29.644 -06:00 [INF] üöå üöå BusBuddy MVP application shutting down
