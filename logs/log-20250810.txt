2025-08-10 07:32:51.510 -06:00 [INF] 🚌 🚌 Serilog initialized using configuration from appsettings.json
2025-08-10 07:32:51.520 -06:00 [INF] 🚌 🚌 BusBuddy MVP starting...
2025-08-10 07:32:51.789 -06:00 [INF] 🚌 🚌 BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-10 07:32:51.797 -06:00 [INF] 🚌 🚌 Command line args: c:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-10 07:32:51.797 -06:00 [INF] 🚌 🚌 EF Migration mode: false
2025-08-10 07:32:51.798 -06:00 [INF] 🚌 🚌 Design-time mode: false
2025-08-10 07:32:51.801 -06:00 [INF] 🚌 🚌 Initializing BusBuddy MVP application
2025-08-10 07:32:51.807 -06:00 [INF] 🚌 🔧 Setting up full DI container for UI application...
2025-08-10 07:32:51.858 -06:00 [INF] 🚌 ✅ Full DI container configured successfully for UI application
2025-08-10 07:32:51.890 -06:00 [INF] 🚌 Starting Wiley School District data seeding operation
2025-08-10 07:32:51.912 -06:00 [INF] 🚌 Using configured JSON path: c:\Users\biges\Desktop\BusBuddy\BusBuddy.Core\Data\wiley-school-district-data.json
2025-08-10 07:32:54.887 -06:00 [INF] 🚌 Wiley seeding skipped: 5 students already exist
2025-08-10 07:32:54.890 -06:00 [INF] 🚌 🚌 Wiley seeding result: Success=True, RecordsSeeded=0, Error=Already seeded
2025-08-10 07:32:54.896 -06:00 [INF] 🚌 🎨 Initializing SyncFusion themes for v30.1.42...
2025-08-10 07:32:55.019 -06:00 [INF] 🚌 🎨 FluentDark theme applied as application default
2025-08-10 07:32:55.019 -06:00 [INF] 🚌 ✅ SyncFusion theme initialization completed successfully
2025-08-10 07:32:55.019 -06:00 [INF] 🚌 🏗️ Creating MainWindow for full UI application
2025-08-10 07:32:55.019 -06:00 [INF] 🚌 🎯 Creating MainWindow with dependency injection
2025-08-10 07:32:55.020 -06:00 [INF] 🚌 MainWindowViewModel initialized with sample data
2025-08-10 07:32:55.021 -06:00 [INF] 🚌 ✅ MainWindowViewModel created successfully via DI
2025-08-10 07:32:55.116 -06:00 [DBG] 🚌 MainWindow constructor starting
2025-08-10 07:32:55.117 -06:00 [DBG] 🚌 Calling InitializeComponent for MainWindow XAML
2025-08-10 07:32:55.277 -06:00 [INF] 🚌 Theme selection changed to FluentDark by MainWindow
2025-08-10 07:32:55.280 -06:00 [INF] 🚌 📊 Database already contains student data, skipping seed
2025-08-10 07:32:55.459 -06:00 [INF] 🚌 Theme changed to FluentDark at application scope
2025-08-10 07:32:55.459 -06:00 [INF] 🚌 Theme changed to FluentDark for MainWindow
2025-08-10 07:32:55.459 -06:00 [INF] 🚌 Theme changed to FluentDark for MainWindow
2025-08-10 07:32:55.808 -06:00 [INF] 🚌 Loaded 3 stops for route Route 1
2025-08-10 07:32:55.809 -06:00 [INF] 🚌 Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-10 07:32:55.809 -06:00 [INF] 🚌 Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-10 07:32:55.809 -06:00 [INF] 🚌 RouteAssignmentView initialized successfully with MVP route building interface
2025-08-10 07:32:55.832 -06:00 [DBG] 🚌 Applying Syncfusion theme
2025-08-10 07:32:55.832 -06:00 [DBG] 🚌 ApplySyncfusionTheme method started
2025-08-10 07:32:55.832 -06:00 [DBG] 🚌 Configuring Syncfusion SfSkinManager global settings
2025-08-10 07:32:55.832 -06:00 [DBG] 🚌 Creating FluentDark theme instance
2025-08-10 07:32:55.832 -06:00 [DBG] 🚌 Applying FluentDark theme to MainWindow
2025-08-10 07:32:55.901 -06:00 [INF] 🚌 Applied FluentDark theme successfully
2025-08-10 07:32:55.901 -06:00 [DBG] 🚌 ApplySyncfusionTheme completed with FluentDark
2025-08-10 07:32:55.901 -06:00 [DBG] 🚌 Initializing MainWindow components and DataContext
2025-08-10 07:32:55.901 -06:00 [DBG] 🚌 InitializeMainWindow method started
2025-08-10 07:32:55.901 -06:00 [DBG] 🚌 Ensuring robust DataContext management
2025-08-10 07:32:55.901 -06:00 [DBG] 🚌 Creating new MainWindowViewModel instance
2025-08-10 07:32:55.902 -06:00 [INF] 🚌 MainWindow DataContext initialized with new ViewModel
2025-08-10 07:32:55.902 -06:00 [DBG] 🚌 InitializeMainWindow method completed
2025-08-10 07:32:55.902 -06:00 [INF] 🚌 Global button click diagnostics handler attached
2025-08-10 07:32:55.902 -06:00 [DBG] 🚌 Attaching Syncfusion event hooks
2025-08-10 07:32:55.902 -06:00 [INF] 🚌 Syncfusion event hooks ready (basic functionality enabled)
2025-08-10 07:32:55.902 -06:00 [INF] 🚌 DockingManager activation events wired
2025-08-10 07:32:55.902 -06:00 [INF] 🚌 MainWindow initialized successfully with Syncfusion DockingManager
2025-08-10 07:32:55.902 -06:00 [DBG] 🚌 MainWindow constructor completed successfully
2025-08-10 07:32:55.902 -06:00 [DBG] 🚌 DataContext changed detected
2025-08-10 07:32:55.902 -06:00 [DBG] 🚌 DataContext changed detected
2025-08-10 07:32:55.902 -06:00 [DBG] 🚌 DataContext updated to MainWindowViewModel (by type/name match)
2025-08-10 07:32:55.902 -06:00 [DBG] 🚌 DataContext updated to MainWindowViewModel (by type/name match)
2025-08-10 07:32:56.735 -06:00 [INF] 🚌 Loaded RouteAssignmentView with theme resource BusBuddy.Brush.Primary
2025-08-10 07:32:57.365 -06:00 [INF] 🚌 Loaded RouteAssignmentView with theme resource BusBuddy.Brush.Primary
2025-08-10 07:32:57.576 -06:00 [INF] 🚌 🚌 BusBuddy MVP application started successfully
2025-08-10 07:33:01.004 -06:00 [DBG] 🚌 AddStudent_Click event triggered
2025-08-10 07:33:01.004 -06:00 [DBG] 🚌 Creating new StudentForm dialog
2025-08-10 07:33:01.178 -06:00 [INF] 🚌 Theme changed to FluentDark for StudentForm
2025-08-10 07:33:01.181 -06:00 [INF] 🚌 Loading form data
2025-08-10 07:33:01.181 -06:00 [INF] 🚌 Loaded 4 routes and 15 bus stops
2025-08-10 07:33:01.182 -06:00 [INF] 🚌 StudentForm: global button click diagnostics attached
2025-08-10 07:33:01.182 -06:00 [INF] 🚌 StudentForm: global selection change diagnostics attached
2025-08-10 07:33:01.182 -06:00 [INF] 🚌 StudentForm: global text change diagnostics attached
2025-08-10 07:33:01.182 -06:00 [INF] 🚌 StudentForm: validation diagnostics attached
2025-08-10 07:33:01.182 -06:00 [INF] 🚌 StudentForm initialized (Create mode)
2025-08-10 07:33:01.182 -06:00 [DBG] 🚌 Showing StudentForm modal dialog
2025-08-10 07:33:01.222 -06:00 [INF] 🚌 StudentForm TextChanged: SfTextBoxExt Name=PART_TextBlock Length=20
2025-08-10 07:33:01.223 -06:00 [INF] 🚌 StudentForm TextChanged: SfTextBoxExt Name=PART_TextBlock Length=9
2025-08-10 07:33:01.228 -06:00 [INF] 🚌 StudentForm TextChanged: SfTextBoxExt Name=PART_TextBoxExt Length=20
2025-08-10 07:33:01.447 -06:00 [INF] 🚌 StudentForm Loaded — DataContextType=StudentFormViewModel
2025-08-10 07:33:01.516 -06:00 [INF] 🚌 StudentForm ContentRendered — Ready for user interaction
2025-08-10 07:33:01.517 -06:00 [INF] 🚌 UI Audit — ButtonAdv Name= Label=✖ AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:01.517 -06:00 [INF] 🚌 UI Audit — Button Name=deleteButton Content=System.Windows.Shapes.Path AutoName= Help= IsEnabled=true HasCommand=false CanExecute=null
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — ButtonAdv Name=ValidateAddressButton Label=Validate Address AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — ButtonAdv Name=SuggestRoutesButton Label=🤖 AI Suggest Routes AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — ButtonAdv Name=ViewOnMapButton Label=🗺️ View on Map AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — ButtonAdv Name=ImportCsvButton Label=📥 Import CSV AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — Button Name=deleteButton Content=System.Windows.Shapes.Path AutoName= Help= IsEnabled=true HasCommand=false CanExecute=null
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — Button Name=deleteButton Content=System.Windows.Shapes.Path AutoName= Help= IsEnabled=true HasCommand=false CanExecute=null
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — ButtonAdv Name=ValidateButton Label=🔍 Validate Data AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — ButtonAdv Name=SaveButton Label=💾 Save Student AutoName= Help= IsEnabled=false HasCommand=true CanExecute=false
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — ButtonAdv Name=CancelButton Label=❌ Cancel AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — Button Name=MinimizeButton Content=System.Windows.Shapes.Path AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — Button Name=PART_MaximizeButton Content=System.Windows.Shapes.Path AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — Button Name=PART_RestoreButton Content=System.Windows.Shapes.Path AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit — Button Name=CloseButton Content=System.Windows.Shapes.Path AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:01.518 -06:00 [INF] 🚌 UI Audit Summary — Buttons=15, ButtonAdv=8, MissingLabel/Content=0, MissingAutomationName=15, NoCommand=3
2025-08-10 07:33:04.917 -06:00 [INF] 🚌 StudentForm Button: ButtonAdv Name=SuggestRoutesButton Label=🤖 AI Suggest Routes AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:04.918 -06:00 [INF] 🚌 Starting AI route suggestion for student at null
2025-08-10 07:33:04.919 -06:00 [WRN] 🚌 Global error set: Please enter a home address before requesting route suggestions.
2025-08-10 07:33:05.875 -06:00 [INF] 🚌 StudentForm Button: ButtonAdv Name=ViewOnMapButton Label=🗺️ View on Map AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:05.877 -06:00 [INF] 🚌 Opening map view for student location
2025-08-10 07:33:05.877 -06:00 [WRN] 🚌 Global error set: Please enter a home address before viewing on map.
2025-08-10 07:33:06.624 -06:00 [INF] 🚌 StudentForm Button: ButtonAdv Name=ImportCsvButton Label=📥 Import CSV AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:06.625 -06:00 [INF] 🚌 Starting CSV import process
2025-08-10 07:33:08.116 -06:00 [INF] 🚌 StudentForm Button: ToggleButton Name=PART_ToggleButton
2025-08-10 07:33:08.127 -06:00 [INF] 🚌 CSV import completed successfully
2025-08-10 07:33:08.538 -06:00 [INF] 🚌 StudentForm Button: ToggleButton Name=PART_ToggleButton
2025-08-10 07:33:09.735 -06:00 [INF] 🚌 StudentForm Button: TitleButton Name=CloseButton Content=System.Windows.Shapes.Path AutoName= Help= IsEnabled=true HasCommand=true CanExecute=true
2025-08-10 07:33:09.745 -06:00 [INF] 🚌 StudentForm closing, disposing resources
2025-08-10 07:33:09.746 -06:00 [DBG] 🚌 StudentForm dialog result: false
2025-08-10 07:33:09.746 -06:00 [DBG] 🚌 Student form was cancelled or closed without saving
2025-08-10 07:33:09.747 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=➕ Add Student CanExecute=null DataContext=MainWindowViewModel
2025-08-10 07:33:12.417 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=🔄 Refresh Data CanExecute=true DataContext=MainWindowViewModel
2025-08-10 07:33:12.960 -06:00 [INF] 🚌 Loaded 3 stops for route Route 1
2025-08-10 07:33:12.960 -06:00 [INF] 🚌 Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-10 07:33:12.960 -06:00 [INF] 🚌 Data refreshed successfully
2025-08-10 07:33:13.057 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=📊 Generate Report CanExecute=true DataContext=MainWindowViewModel
2025-08-10 07:33:15.092 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=📋 View Schedule CanExecute=true DataContext=MainWindowViewModel
2025-08-10 07:33:17.440 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=💾 Save Route CanExecute=true DataContext=MainWindowViewModel
2025-08-10 07:33:17.441 -06:00 [INF] 🚌 Saved route Route 1
2025-08-10 07:33:19.660 -06:00 [INF] 🚌 Button click: Button Name=PART_CloseButton Content=System.Windows.Shapes.Path CanExecute=true DataContext=MainWindowViewModel
2025-08-10 07:33:23.928 -06:00 [INF] 🚌 Attempting to open DriverForm
2025-08-10 07:33:23.928 -06:00 [DBG] 🚌 Creating new DriverForm dialog
2025-08-10 07:33:23.929 -06:00 [INF] 🚌 Initializing DriverForm
2025-08-10 07:33:23.938 -06:00 [ERR] 🚌 Error opening DriverForm
System.Windows.Markup.XamlParseException: 'Provide value on 'System.Windows.StaticResourceExtension' threw an exception.' Line number '258' and line position '21'.
 ---> System.Exception: Cannot find resource named 'BusBuddy.Warning.Background'. Resource names are case sensitive.
   at System.Windows.StaticResourceExtension.ProvideValue(IServiceProvider serviceProvider)
   at MS.Internal.Xaml.Runtime.ClrObjectRuntime.CallProvideValue(MarkupExtension me, IServiceProvider serviceProvider)
   --- End of inner exception stack trace ---
   at System.Windows.Markup.XamlReader.RewrapException(Exception e, IXamlLineInfo lineInfo, Uri baseUri)
   at System.Windows.Markup.WpfXamlLoader.Load(XamlReader xamlReader, IXamlObjectWriterFactory writerFactory, Boolean skipJournaledProperties, Object rootObject, XamlObjectWriterSettings settings, Uri baseUri)
   at System.Windows.Markup.XamlReader.LoadBaml(Stream stream, ParserContext parserContext, Object parent, Boolean closeStream)
   at System.Windows.Application.LoadComponent(Object component, Uri resourceLocator)
   at BusBuddy.WPF.Views.Driver.DriverForm.InitializeComponent() in c:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\Views\Driver\DriverForm.xaml:line 1
   at BusBuddy.WPF.Views.Driver.DriverForm..ctor() in c:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\Views\Driver\DriverForm.xaml.cs:line 24
   at BusBuddy.WPF.Views.Main.MainWindow.AddDriver_Click(Object sender, RoutedEventArgs e) in c:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\Views\Main\MainWindow.xaml.cs:line 849
2025-08-10 07:33:25.623 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=➕ Add Driver CanExecute=null DataContext=MainWindowViewModel
2025-08-10 07:33:26.570 -06:00 [DBG] 🚌 AssignBus_Click event triggered
2025-08-10 07:33:26.570 -06:00 [INF] 🚌 Bus assignment requested
2025-08-10 07:33:27.612 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=🚌 Assign Bus CanExecute=null DataContext=MainWindowViewModel
2025-08-10 07:33:28.321 -06:00 [DBG] 🚌 Schedule_Click event triggered
2025-08-10 07:33:28.321 -06:00 [INF] 🚌 Driver scheduling requested
2025-08-10 07:33:29.340 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=📅 Schedule CanExecute=null DataContext=MainWindowViewModel
2025-08-10 07:33:32.779 -06:00 [INF] 🚌 FluentDark theme applied to BusForm
2025-08-10 07:33:34.085 -06:00 [INF] 🚌 SfSkinManager resources disposed for BusForm
2025-08-10 07:33:34.087 -06:00 [INF] 🚌 Bus added successfully
2025-08-10 07:33:34.087 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=➕ Add Bus CanExecute=null DataContext=MainWindowViewModel
2025-08-10 07:33:35.048 -06:00 [DBG] 🚌 Maintenance_Click event triggered
2025-08-10 07:33:35.049 -06:00 [INF] 🚌 Maintenance management requested
2025-08-10 07:33:36.265 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=🔧 Maintenance CanExecute=null DataContext=MainWindowViewModel
2025-08-10 07:33:37.072 -06:00 [DBG] 🚌 FleetStatus_Click event triggered
2025-08-10 07:33:37.072 -06:00 [INF] 🚌 Fleet status requested
2025-08-10 07:33:38.315 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=📊 Fleet Status CanExecute=null DataContext=MainWindowViewModel
2025-08-10 07:33:39.178 -06:00 [DBG] 🚌 OptimizeRoutes_Click event triggered
2025-08-10 07:33:39.178 -06:00 [INF] 🚌 Route optimization requested
2025-08-10 07:33:40.348 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=🗺️ Optimize Routes CanExecute=null DataContext=MainWindowViewModel
2025-08-10 07:33:41.416 -06:00 [DBG] 🚌 ExportSchedules_Click event triggered
2025-08-10 07:33:41.416 -06:00 [INF] 🚌 Schedule export requested
2025-08-10 07:33:41.417 -06:00 [INF] 🚌 Starting route export to CSV
2025-08-10 07:33:41.418 -06:00 [INF] 🚌 Retrieving all routes
2025-08-10 07:33:41.486 -06:00 [INF] 🚌 Generating route report
2025-08-10 07:33:41.486 -06:00 [INF] 🚌 Retrieving all routes
2025-08-10 07:33:41.490 -06:00 [INF] 🚌 Button click: ButtonAdv Name= Label=📄 Export Schedules CanExecute=null DataContext=MainWindowViewModel
2025-08-10 07:33:41.547 -06:00 [INF] 🚌 Retrieving all students from database
2025-08-10 07:33:41.630 -06:00 [INF] 🚌 Retrieving all students from database
2025-08-10 07:33:41.635 -06:00 [INF] 🚌 Route export completed: C:\Users\biges\Desktop\BusBuddy_Routes_20250810_073341.csv
2025-08-10 07:33:41.786 -06:00 [INF] 🚌 Route report generated: C:\Users\biges\Desktop\BusBuddy_Report_20250810_073341.txt
2025-08-10 07:33:44.440 -06:00 [INF] 🚌 Button click: TitleButton Name=CloseButton Content=System.Windows.Shapes.Path CanExecute=true DataContext=MainWindowViewModel
