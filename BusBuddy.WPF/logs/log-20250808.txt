2025-08-08 15:30:41.834 -06:00 [INF] 🚌 🚌 Serilog initialized using configuration from appsettings.json
2025-08-08 15:30:41.856 -06:00 [INF] 🚌 🚌 BusBuddy MVP starting...
2025-08-08 15:30:41.875 -06:00 [INF] 🚌 🚌 BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 15:30:41.877 -06:00 [INF] 🚌 🚌 Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Release\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 15:30:41.878 -06:00 [INF] 🚌 🚌 EF Migration mode: false
2025-08-08 15:30:41.878 -06:00 [INF] 🚌 🚌 Design-time mode: false
2025-08-08 15:30:41.878 -06:00 [INF] 🚌 🚌 Initializing BusBuddy MVP application
2025-08-08 15:30:41.881 -06:00 [INF] 🚌 🔧 Setting up full DI container for UI application...
2025-08-08 15:30:41.906 -06:00 [INF] 🚌 ✅ Full DI container configured successfully for UI application
2025-08-08 15:30:41.929 -06:00 [INF] 🚌 Starting Wiley School District data seeding operation
2025-08-08 15:30:41.931 -06:00 [INF] 🚌 Using fallback path resolution: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Release\net9.0-windows\Data\wiley-school-district-data.json
2025-08-08 15:30:44.533 -06:00 [INF] 🚌 Wiley seeding skipped: 5 students already exist
2025-08-08 15:30:44.539 -06:00 [INF] 🚌 🚌 Wiley seeding result: Success=True, RecordsSeeded=0, Error=Already seeded
2025-08-08 15:30:44.541 -06:00 [INF] 🚌 🏗️ Creating MainWindow for full UI application
2025-08-08 15:30:44.541 -06:00 [INF] 🚌 🎯 Creating MainWindow with dependency injection
2025-08-08 15:30:44.543 -06:00 [INF] 🚌 MainWindowViewModel initialized with sample data
2025-08-08 15:30:44.545 -06:00 [INF] 🚌 ✅ MainWindowViewModel created successfully via DI
2025-08-08 15:30:44.577 -06:00 [DBG] 🚌 MainWindow constructor starting
2025-08-08 15:30:44.577 -06:00 [DBG] 🚌 Calling InitializeComponent for MainWindow XAML
2025-08-08 15:30:44.912 -06:00 [INF] 🚌 📊 Database already contains student data, skipping seed
2025-08-08 15:30:45.751 -06:00 [INF] 🚌 Loaded 3 stops for route Route 1
2025-08-08 15:30:45.752 -06:00 [INF] 🚌 Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 15:30:45.753 -06:00 [INF] 🚌 Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 15:30:45.753 -06:00 [INF] 🚌 RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 15:30:45.892 -06:00 [DBG] 🚌 Applying Syncfusion theme
2025-08-08 15:30:45.895 -06:00 [DBG] 🚌 ApplySyncfusionTheme method started
2025-08-08 15:30:45.895 -06:00 [DBG] 🚌 Configuring Syncfusion SfSkinManager global settings
2025-08-08 15:30:45.898 -06:00 [DBG] 🚌 Creating FluentDark theme instance
2025-08-08 15:30:45.902 -06:00 [DBG] 🚌 Applying FluentDark theme to MainWindow
2025-08-08 15:30:46.565 -06:00 [INF] 🚌 Applied FluentDark theme successfully
2025-08-08 15:30:46.565 -06:00 [DBG] 🚌 ApplySyncfusionTheme completed with FluentDark
2025-08-08 15:30:46.566 -06:00 [DBG] 🚌 Initializing MainWindow components
2025-08-08 15:30:46.566 -06:00 [DBG] 🚌 InitializeMainWindow method started
2025-08-08 15:30:46.566 -06:00 [DBG] 🚌 Creating MainWindowViewModel instance
2025-08-08 15:30:46.566 -06:00 [DBG] 🚌 No DataContext found, creating new MainWindowViewModel
2025-08-08 15:30:46.566 -06:00 [INF] 🚌 MainWindow data context initialized with new ViewModel
2025-08-08 15:30:46.566 -06:00 [DBG] 🚌 InitializeMainWindow method completed
2025-08-08 15:30:46.566 -06:00 [DBG] 🚌 Attaching Syncfusion event hooks
2025-08-08 15:30:46.567 -06:00 [INF] 🚌 Syncfusion event hooks ready (basic functionality enabled)
2025-08-08 15:30:46.567 -06:00 [INF] 🚌 MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 15:30:46.567 -06:00 [DBG] 🚌 MainWindow constructor completed successfully
2025-08-08 15:30:48.574 -06:00 [INF] 🚌 🚌 BusBuddy MVP application started successfully
2025-08-08 15:30:51.109 -06:00 [INF] 🚌 Loaded 3 stops for route Route 1
2025-08-08 15:30:51.109 -06:00 [INF] 🚌 Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 15:30:51.109 -06:00 [INF] 🚌 Data refreshed successfully
2025-08-08 15:31:33.076 -06:00 [DBG] 🚌 StudentsButton_Click event triggered
2025-08-08 15:31:33.076 -06:00 [INF] 🚌 Students navigation requested
2025-08-08 15:31:33.108 -06:00 [INF] 🚌 Loading students from database
2025-08-08 15:31:33.109 -06:00 [INF] 🚌 Creating design-time BusBuddyDbContext
2025-08-08 15:31:33.109 -06:00 [INF] 🚌 Using Azure SQL credential fallback for design-time context
2025-08-08 15:31:33.309 -06:00 [INF] 🚌 Creating design-time BusBuddyDbContext
2025-08-08 15:31:33.309 -06:00 [INF] 🚌 Using Azure SQL credential fallback for design-time context
2025-08-08 15:31:33.388 -06:00 [DBG] 🚌 Showing StudentsView in modal dialog
2025-08-08 15:31:34.514 -06:00 [INF] 🚌 Loaded 5 students
2025-08-08 15:31:36.243 -06:00 [INF] 🚌 StudentsView dialog closed
2025-08-08 15:31:36.244 -06:00 [DBG] 🚌 RefreshStudentsGrid method started
2025-08-08 15:31:36.244 -06:00 [WRN] 🚌 DataContext is not MainWindowViewModel, cannot refresh students
2025-08-08 15:31:36.247 -06:00 [INF] 🚌 Reference data loaded: 14 grades, 1 schools, 0 routes
2025-08-08 15:31:37.183 -06:00 [DBG] 🚌 RouteManagementButton_Click event triggered
2025-08-08 15:31:37.183 -06:00 [INF] 🚌 Route management navigation requested
2025-08-08 15:31:37.185 -06:00 [DBG] 🚌 Showing RouteManagementView in modal dialog
2025-08-08 15:31:41.310 -06:00 [INF] 🚌 RouteManagementView dialog closed
2025-08-08 15:31:41.311 -06:00 [DBG] 🚌 RefreshRoutesGrid method started
2025-08-08 15:31:41.311 -06:00 [WRN] 🚌 DataContext is not MainWindowViewModel, cannot refresh routes
2025-08-08 15:31:42.435 -06:00 [DBG] 🚌 BusesButton_Click event triggered
2025-08-08 15:31:42.435 -06:00 [INF] 🚌 Buses navigation requested
2025-08-08 15:31:42.437 -06:00 [ERR] 🚌 Error opening Bus Management view
System.Windows.Markup.XamlParseException: Set property 'System.Windows.FrameworkElement.Style' threw an exception.
 ---> System.InvalidOperationException: 'Button' TargetType does not match type of element 'ButtonAdv'.
   at System.Windows.Style.CheckTargetType(Object element)
   at System.Windows.FrameworkElement.OnStyleChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)
   at System.Windows.FrameworkElement.OnPropertyChanged(DependencyPropertyChangedEventArgs e)
   at System.Windows.DependencyObject.NotifyPropertyChange(DependencyPropertyChangedEventArgs args)
   at System.Windows.DependencyObject.UpdateEffectiveValue(EntryIndex entryIndex, DependencyProperty dp, PropertyMetadata metadata, EffectiveValueEntry oldEntry, EffectiveValueEntry& newEntry, Boolean coerceWithDeferredReference, Boolean coerceWithCurrentValue, OperationType operationType)
   at System.Windows.DependencyObject.SetValueCommon(DependencyProperty dp, Object value, PropertyMetadata metadata, Boolean coerceWithDeferredReference, Boolean coerceWithCurrentValue, OperationType operationType, Boolean isInternal)
   at System.Windows.Baml2006.WpfKnownMemberInvoker.SetValue(Object instance, Object value)
   at MS.Internal.Xaml.Runtime.ClrObjectRuntime.SetValue(Object inst, XamlMember property, Object value)
   --- End of inner exception stack trace ---
   at System.Windows.Markup.XamlReader.RewrapException(Exception e, IXamlLineInfo lineInfo, Uri baseUri)
   at System.Windows.Markup.WpfXamlLoader.Load(XamlReader xamlReader, IXamlObjectWriterFactory writerFactory, Boolean skipJournaledProperties, Object rootObject, XamlObjectWriterSettings settings, Uri baseUri)
   at System.Windows.Markup.XamlReader.LoadBaml(Stream stream, ParserContext parserContext, Object parent, Boolean closeStream)
   at System.Windows.Application.LoadComponent(Object component, Uri resourceLocator)
   at BusBuddy.WPF.Views.Vehicle.VehicleManagementView.InitializeComponent() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\Views\Vehicle\VehicleManagementView.xaml:line 1
   at BusBuddy.WPF.Views.Vehicle.VehicleManagementView..ctor() in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\Views\Vehicle\VehicleManagementView.xaml.cs:line 13
   at BusBuddy.WPF.Views.Main.MainWindow.BusesButton_Click(Object sender, RoutedEventArgs e) in C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\Views\Main\MainWindow.xaml.cs:line 792
2025-08-08 15:31:44.708 -06:00 [DBG] 🚌 DriversButton_Click event triggered
2025-08-08 15:31:44.708 -06:00 [INF] 🚌 Drivers navigation requested
2025-08-08 15:31:44.880 -06:00 [INF] 🚌 🚌 Phase 2+ DriversViewModel initialized with advanced command patterns and search
2025-08-08 15:31:44.881 -06:00 [INF] 🚌 📊 Loading drivers from Phase 1 seeded data...
2025-08-08 15:31:44.919 -06:00 [DBG] 🚌 Showing DriversView in modal dialog
2025-08-08 15:31:46.492 -06:00 [INF] 🚌 DriversView dialog closed
2025-08-08 15:31:46.493 -06:00 [DBG] 🚌 RefreshDriversGrid method started
2025-08-08 15:31:46.493 -06:00 [WRN] 🚌 DataContext is not MainWindowViewModel, cannot refresh drivers
2025-08-08 15:31:47.776 -06:00 [INF] 🚌 🚌 BusBuddy MVP application shutting down
2025-08-08 15:36:35.409 -06:00 [INF] 🚌 🚌 Serilog initialized using configuration from appsettings.json
2025-08-08 15:36:35.424 -06:00 [INF] 🚌 🚌 BusBuddy MVP starting...
2025-08-08 15:36:35.438 -06:00 [INF] 🚌 🚌 BusBuddy starting on thread 2 with apartment state: "STA"
2025-08-08 15:36:35.440 -06:00 [INF] 🚌 🚌 Command line args: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\BusBuddy.WPF.dll
2025-08-08 15:36:35.441 -06:00 [INF] 🚌 🚌 EF Migration mode: false
2025-08-08 15:36:35.441 -06:00 [INF] 🚌 🚌 Design-time mode: false
2025-08-08 15:36:35.441 -06:00 [INF] 🚌 🚌 Initializing BusBuddy MVP application
2025-08-08 15:36:35.443 -06:00 [INF] 🚌 🔧 Setting up full DI container for UI application...
2025-08-08 15:36:35.463 -06:00 [INF] 🚌 ✅ Full DI container configured successfully for UI application
2025-08-08 15:36:35.482 -06:00 [INF] 🚌 Starting Wiley School District data seeding operation
2025-08-08 15:36:35.483 -06:00 [INF] 🚌 Using fallback path resolution: C:\Users\biges\Desktop\BusBuddy\BusBuddy.WPF\bin\Debug\net9.0-windows\Data\wiley-school-district-data.json
2025-08-08 15:36:37.380 -06:00 [INF] 🚌 Wiley seeding skipped: 5 students already exist
2025-08-08 15:36:37.384 -06:00 [INF] 🚌 🚌 Wiley seeding result: Success=True, RecordsSeeded=0, Error=Already seeded
2025-08-08 15:36:37.385 -06:00 [INF] 🚌 🏗️ Creating MainWindow for full UI application
2025-08-08 15:36:37.385 -06:00 [INF] 🚌 🎯 Creating MainWindow with dependency injection
2025-08-08 15:36:37.386 -06:00 [INF] 🚌 MainWindowViewModel initialized with sample data
2025-08-08 15:36:37.387 -06:00 [INF] 🚌 ✅ MainWindowViewModel created successfully via DI
2025-08-08 15:36:37.405 -06:00 [DBG] 🚌 MainWindow constructor starting
2025-08-08 15:36:37.405 -06:00 [DBG] 🚌 Calling InitializeComponent for MainWindow XAML
2025-08-08 15:36:37.718 -06:00 [INF] 🚌 📊 Database already contains student data, skipping seed
2025-08-08 15:36:37.838 -06:00 [INF] 🚌 Loaded 3 stops for route Route 1
2025-08-08 15:36:37.838 -06:00 [INF] 🚌 Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 15:36:37.838 -06:00 [INF] 🚌 Enhanced RouteAssignmentViewModel initialized with route building capabilities
2025-08-08 15:36:37.839 -06:00 [INF] 🚌 RouteAssignmentView initialized successfully with MVP route building interface
2025-08-08 15:36:37.889 -06:00 [DBG] 🚌 Applying Syncfusion theme
2025-08-08 15:36:37.890 -06:00 [DBG] 🚌 ApplySyncfusionTheme method started
2025-08-08 15:36:37.890 -06:00 [DBG] 🚌 Configuring Syncfusion SfSkinManager global settings
2025-08-08 15:36:37.891 -06:00 [DBG] 🚌 Creating FluentDark theme instance
2025-08-08 15:36:37.892 -06:00 [DBG] 🚌 Applying FluentDark theme to MainWindow
2025-08-08 15:36:38.092 -06:00 [INF] 🚌 Applied FluentDark theme successfully
2025-08-08 15:36:38.092 -06:00 [DBG] 🚌 ApplySyncfusionTheme completed with FluentDark
2025-08-08 15:36:38.092 -06:00 [DBG] 🚌 Initializing MainWindow components
2025-08-08 15:36:38.093 -06:00 [DBG] 🚌 InitializeMainWindow method started
2025-08-08 15:36:38.093 -06:00 [DBG] 🚌 Creating MainWindowViewModel instance
2025-08-08 15:36:38.093 -06:00 [DBG] 🚌 No DataContext found, creating new MainWindowViewModel
2025-08-08 15:36:38.093 -06:00 [INF] 🚌 MainWindow data context initialized with new ViewModel
2025-08-08 15:36:38.093 -06:00 [DBG] 🚌 InitializeMainWindow method completed
2025-08-08 15:36:38.093 -06:00 [DBG] 🚌 Attaching Syncfusion event hooks
2025-08-08 15:36:38.093 -06:00 [INF] 🚌 Syncfusion event hooks ready (basic functionality enabled)
2025-08-08 15:36:38.093 -06:00 [INF] 🚌 MainWindow initialized successfully with Syncfusion DockingManager
2025-08-08 15:36:38.093 -06:00 [DBG] 🚌 MainWindow constructor completed successfully
2025-08-08 15:36:39.209 -06:00 [INF] 🚌 🚌 BusBuddy MVP application started successfully
2025-08-08 15:36:41.849 -06:00 [INF] 🚌 Edit student requested
2025-08-08 15:37:42.873 -06:00 [INF] 🚌 Loaded 3 stops for route Route 1
2025-08-08 15:37:42.874 -06:00 [INF] 🚌 Loaded mock data: 25 students, 5 routes, 10 buses, 8 drivers
2025-08-08 15:37:42.874 -06:00 [INF] 🚌 Data refreshed successfully
2025-08-08 15:38:06.310 -06:00 [INF] 🚌 Auto-assignment completed for route Route 1
2025-08-08 15:38:19.044 -06:00 [DBG] 🚌 OptimizeRoutes_Click event triggered
2025-08-08 15:38:19.044 -06:00 [INF] 🚌 Route optimization requested
2025-08-08 15:38:22.111 -06:00 [DBG] 🚌 ExportSchedules_Click event triggered
2025-08-08 15:38:22.111 -06:00 [INF] 🚌 Schedule export requested
